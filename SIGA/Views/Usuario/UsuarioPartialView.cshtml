@model SIGA.Models.ViewModels.UsuarioViewModel

<div id="UsuarioContainer">

    <div class="row viewTitle marginBottomp10px">
        <div class="col-lg-12 pull-left">
            <button id="btnNewUsuario" type="button" class="btn btn-success" data-bind="click: LoadCreateViewForUsuario"><i class="fa fa-plus"></i> Crear Usuario</button>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">Filtros</div>
        <div class="panel-body filtrosContainer">
            <div class="row">
                <div class="col-lg-9">
                    <div class="row">
                        <div class="col-lg-3  col-md-3">
                            <div class="form-group">
                                <label for="txtPrimerNombre">Nombre</label>
                                <input type="text" class="form-control" id="txtPrimerNombre" name="txtPrimerNombre" placeholder="Nombre" data-bind="textInput: usuarioVM.txtPrimerNombre">
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label for="txtApellidoPaterno">Paterno</label>
                                <input type="text" class="form-control" id="txtApellidoPaterno" name="txtApellidoPaterno" placeholder="Apellido Paterno" data-bind="textInput: usuarioVM.txtApellidoPaterno">
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label for="txtEmail">Correo</label>
                                <input type="text" class="form-control" id="txtEmail" name="txtEmail" placeholder="Correo Electronico" data-bind="textInput: usuarioVM.txtEmail">
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="form-group">
                                <label for="cboTipoUsuario">Usuario</label>
                                <select class="form-control" id="cboTipoUsuario" name="cboTipoUsuario" data-bind="selectedOptions: usuarioVM.cboTipoUsuario">
                                    <option>Todos</option>
                                    <option>Alumno</option>
                                    <option>Profesor</option>
                                    <option>Administrador</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 hidden-md text-right">
                    <div class="form-group">
                        <label for="btnAction">&nbsp;</label>
                        <div id="btnAction">
                            <button id="btnSearch" type="button" data-bind="click: searchUsuario" class="btn btn-primary"><i class="fa fa-search "></i> Buscar</button>
                            <button id="btnReset" type="button" data-bind="click: resetFilters" class="btn btn-primary">Limpiar Filtros</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 visible-md  text-left">
                    <div class="form-group">
                        <label for="btnAction">&nbsp;</label>
                        <div id="btnAction">
                            <button id="btnSearch" type="button" data-bind="click: searchUsuario" class="btn btn-primary"><i class="fa fa-search "></i> Buscar</button>
                            <button id="btnReset" type="button" data-bind="click: resetFilters" class="btn btn-primary">Limpiar Filtros</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</div>

<div class="panel panel-default">
    <div class="panel-heading">Datos del Usuario</div>
    <div class="panel-body dataContainer">
        <div class="usuarioSubContainer" id="usuarioSubContainer">
            @Html.Partial("UsuarioListPartialView", Model)
        </div>
    </div>
    <div class="panel-footer">Agregar paginacion</div>
</div>
      

<script src="~/Scripts/Siga/Usuario/usuario.js"></script>

<script>

    $(document).ready(function () {

        var usuarioVM = new usuarioViewModel(@Html.HtmlConvertToJson(Model));
        ko.applyBindings(usuarioVM, $('#UsuarioContainer')[0]);

        $("#txtPrimerNombre").keypress(function (e) {
            if (e.which == 13) {
                usuarioVM.searchUsuario();
            }
        });

        $("#txtApellidoPaterno").keypress(function (e) {
            if (e.which == 13) {
                usuarioVM.searchUsuario();
            }
        });

        $("#txtEmail").keypress(function (e) {
            if (e.which == 13) {
                usuarioVM.searchUsuario();
            }
        });

        $("#cboTipoUsuario").keypress(function (e) {
            if (e.which == 13) {
                usuarioVM.searchUsuario();
            }
        });
    });

</script>

